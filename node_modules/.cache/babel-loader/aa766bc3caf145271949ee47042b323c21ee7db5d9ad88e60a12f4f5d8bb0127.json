{"ast":null,"code":"var _jsxFileName = \"D:\\\\My_Tiffin_App\\\\theTiffinApp\\\\tiffin-wala\\\\src\\\\Components\\\\Login\\\\login.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState } from 'react';\n// import './login.css'\n\n// const LoginComponent = () => {\n//   const [formData, setFormData] = useState({\n//     name: '',\n//     ownerName: '',\n//     contactNumber: '',\n//     email: '',\n//     address: '',\n//     subscriptionType: '',\n//     description: '',\n//     deliveryAreas: [] // New field for selecting areas\n//   });\n\n//   const [areas, setAreas] = useState({\n//     Area1: false,\n//     Area2: false,\n//     Area3: false,\n//     Area4: false\n//   });\n\n//   const handleChange = (e) => {\n//     const { name, value } = e.target;\n//     setFormData({ ...formData, [name]: value });\n//   };\n\n//   const handleAreaChange = (e) => {\n//     const { name, checked } = e.target;\n//     setAreas({ ...areas, [name]: checked });\n//   };\n\n//   const handleSubmit = (e) => {\n//     e.preventDefault();\n//     const selectedAreas = Object.keys(areas).filter(area => areas[area]);\n//     const dataToSubmit = { ...formData, deliveryAreas: selectedAreas };\n\n//     console.log('Tiffin Center Data:', dataToSubmit);\n//     // Call your register function here to save to Firebase or backend\n//     // registerTiffinCenter(dataToSubmit, selectedAreas);\n//   };\n\n//   return (\n//     <div style={styles.container}>\n//     <form onSubmit={handleSubmit} style={styles.form}>\n//       <h2>Login</h2>\n//       <div style={styles.inputContainer}>\n//         <label htmlFor=\"userName\">User Name:</label>\n//         <input\n//           type=\"text\"\n//           id=\"userName\"\n//           name=\"userName\"\n//           value={formData.userName}\n//           onChange={handleChange}\n//           style={styles.input}\n//           required\n//         />\n//       </div>\n//       <div style={styles.inputContainer}>\n//         <label htmlFor=\"password\">Password:</label>\n//         <input\n//           type=\"password\"\n//           id=\"password\"\n//           name=\"password\"\n//           value={formData.password}\n//           onChange={handleChange}\n//           style={styles.input}\n//           required\n//         />\n//       </div>\n//       <button type=\"submit\" style={styles.button}>\n//         Login\n//       </button>\n//       <div style={styles.signupOption}>\n//         <p>Don't have an account?</p>\n//         <a href=\"/signup\" style={styles.signupLink}>\n//           Sign Up\n//         </a>\n//       </div>\n//     </form>\n//   </div>\n\n//   );\n\n// };\n// const styles = {\n//   container: {\n//     display: 'flex',\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//     height: '100vh',\n//     backgroundColor: '#f0f0f0',\n//   },\n//   form: {\n//     backgroundColor: '#fff',\n//     padding: '20px',\n//     borderRadius: '5px',\n//     boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n//   },\n//   inputContainer: {\n//     marginBottom: '15px',\n//   },\n//   input: {\n//     width: '100%',\n//     padding: '8px',\n//     marginTop: '5px',\n//     borderRadius: '4px',\n//     border: '1px solid #ccc',\n//   },\n//   button: {\n//     width: '100%',\n//     padding: '10px',\n//     backgroundColor: '#007bff',\n//     color: '#fff',\n//     border: 'none',\n//     borderRadius: '4px',\n//     cursor: 'pointer',\n//   },\n//   signupOption: {\n//     marginTop: '15px',\n//     textAlign: 'center',\n//   },\n//   signupLink: {\n//     color: '#007bff',\n//     textDecoration: 'none',\n//   },\n// };\n\n// export default LoginComponent;\n\nimport React, { useState } from \"react\";\nimport { getAuth, RecaptchaVerifier, signInWithPhoneNumber, PhoneAuthProvider, signInWithCredential } from \"firebase/auth\";\nimport { auth } from \"./firebaseConfig\"; // Ensure auth is imported from your firebaseConfig file\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginComponent = () => {\n  _s();\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [verificationId, setVerificationId] = useState(null);\n\n  // Initialize RecaptchaVerifier only once\n  const setupRecaptcha = () => {\n    if (!window.recaptchaVerifier) {\n      window.recaptchaVerifier = new RecaptchaVerifier(\"recaptcha-container\", {\n        size: \"invisible\" // Or use 'normal' for a visible reCAPTCHA widget\n      }, auth);\n    }\n  };\n\n  // Step 3: Send OTP\n  const sendOtp = () => {\n    setupRecaptcha(); // Ensure RecaptchaVerifier is set up\n    const appVerifier = window.recaptchaVerifier;\n    signInWithPhoneNumber(auth, phoneNumber, appVerifier).then(confirmationResult => {\n      setVerificationId(confirmationResult.verificationId);\n      alert(\"OTP sent successfully!\");\n    }).catch(error => {\n      console.error(\"Error sending OTP:\", error);\n    });\n  };\n\n  // Step 4: Verify OTP\n  const verifyOtp = () => {\n    const credential = PhoneAuthProvider.credential(verificationId, otp);\n    signInWithCredential(auth, credential).then(result => {\n      alert(\"Phone number verified and user signed in successfully!\");\n      // Proceed with user registration or redirection as needed\n    }).catch(error => {\n      console.error(\"Error verifying OTP:\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Sign Up with Phone Number\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"tel\",\n      placeholder: \"Enter phone number\",\n      value: phoneNumber,\n      onChange: e => setPhoneNumber(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendOtp,\n      children: \"Send OTP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"recaptcha-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), verificationId && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter OTP\",\n        value: otp,\n        onChange: e => setOtp(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: verifyOtp,\n        children: \"Verify OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginComponent, \"8/L1YRW0kAHp7KujfvPCMg9j+sk=\");\n_c = LoginComponent;\nexport default PhoneSignUp;\nvar _c;\n$RefreshReg$(_c, \"LoginComponent\");","map":{"version":3,"names":["React","useState","getAuth","RecaptchaVerifier","signInWithPhoneNumber","PhoneAuthProvider","signInWithCredential","auth","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginComponent","_s","phoneNumber","setPhoneNumber","otp","setOtp","verificationId","setVerificationId","setupRecaptcha","window","recaptchaVerifier","size","sendOtp","appVerifier","then","confirmationResult","alert","catch","error","console","verifyOtp","credential","result","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","id","_c","PhoneSignUp","$RefreshReg$"],"sources":["D:/My_Tiffin_App/theTiffinApp/tiffin-wala/src/Components/Login/login.jsx"],"sourcesContent":["\r\n\r\n// import React, { useState } from 'react';\r\n// import './login.css'\r\n\r\n// const LoginComponent = () => {\r\n//   const [formData, setFormData] = useState({\r\n//     name: '',\r\n//     ownerName: '',\r\n//     contactNumber: '',\r\n//     email: '',\r\n//     address: '',\r\n//     subscriptionType: '',\r\n//     description: '',\r\n//     deliveryAreas: [] // New field for selecting areas\r\n//   });\r\n\r\n//   const [areas, setAreas] = useState({\r\n//     Area1: false,\r\n//     Area2: false,\r\n//     Area3: false,\r\n//     Area4: false\r\n//   });\r\n\r\n//   const handleChange = (e) => {\r\n//     const { name, value } = e.target;\r\n//     setFormData({ ...formData, [name]: value });\r\n//   };\r\n\r\n//   const handleAreaChange = (e) => {\r\n//     const { name, checked } = e.target;\r\n//     setAreas({ ...areas, [name]: checked });\r\n//   };\r\n\r\n//   const handleSubmit = (e) => {\r\n//     e.preventDefault();\r\n//     const selectedAreas = Object.keys(areas).filter(area => areas[area]);\r\n//     const dataToSubmit = { ...formData, deliveryAreas: selectedAreas };\r\n\r\n//     console.log('Tiffin Center Data:', dataToSubmit);\r\n//     // Call your register function here to save to Firebase or backend\r\n//     // registerTiffinCenter(dataToSubmit, selectedAreas);\r\n//   };\r\n\r\n//   return (\r\n//     <div style={styles.container}>\r\n//     <form onSubmit={handleSubmit} style={styles.form}>\r\n//       <h2>Login</h2>\r\n//       <div style={styles.inputContainer}>\r\n//         <label htmlFor=\"userName\">User Name:</label>\r\n//         <input\r\n//           type=\"text\"\r\n//           id=\"userName\"\r\n//           name=\"userName\"\r\n//           value={formData.userName}\r\n//           onChange={handleChange}\r\n//           style={styles.input}\r\n//           required\r\n//         />\r\n//       </div>\r\n//       <div style={styles.inputContainer}>\r\n//         <label htmlFor=\"password\">Password:</label>\r\n//         <input\r\n//           type=\"password\"\r\n//           id=\"password\"\r\n//           name=\"password\"\r\n//           value={formData.password}\r\n//           onChange={handleChange}\r\n//           style={styles.input}\r\n//           required\r\n//         />\r\n//       </div>\r\n//       <button type=\"submit\" style={styles.button}>\r\n//         Login\r\n//       </button>\r\n//       <div style={styles.signupOption}>\r\n//         <p>Don't have an account?</p>\r\n//         <a href=\"/signup\" style={styles.signupLink}>\r\n//           Sign Up\r\n//         </a>\r\n//       </div>\r\n//     </form>\r\n//   </div>\r\n  \r\n\r\n//   );\r\n\r\n\r\n// };\r\n// const styles = {\r\n//   container: {\r\n//     display: 'flex',\r\n//     justifyContent: 'center',\r\n//     alignItems: 'center',\r\n//     height: '100vh',\r\n//     backgroundColor: '#f0f0f0',\r\n//   },\r\n//   form: {\r\n//     backgroundColor: '#fff',\r\n//     padding: '20px',\r\n//     borderRadius: '5px',\r\n//     boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\r\n//   },\r\n//   inputContainer: {\r\n//     marginBottom: '15px',\r\n//   },\r\n//   input: {\r\n//     width: '100%',\r\n//     padding: '8px',\r\n//     marginTop: '5px',\r\n//     borderRadius: '4px',\r\n//     border: '1px solid #ccc',\r\n//   },\r\n//   button: {\r\n//     width: '100%',\r\n//     padding: '10px',\r\n//     backgroundColor: '#007bff',\r\n//     color: '#fff',\r\n//     border: 'none',\r\n//     borderRadius: '4px',\r\n//     cursor: 'pointer',\r\n//   },\r\n//   signupOption: {\r\n//     marginTop: '15px',\r\n//     textAlign: 'center',\r\n//   },\r\n//   signupLink: {\r\n//     color: '#007bff',\r\n//     textDecoration: 'none',\r\n//   },\r\n// };\r\n\r\n// export default LoginComponent;\r\n\r\nimport React, { useState } from \"react\";\r\nimport { getAuth, RecaptchaVerifier, signInWithPhoneNumber, PhoneAuthProvider, signInWithCredential } from \"firebase/auth\";\r\nimport { auth } from \"./firebaseConfig\"; // Ensure auth is imported from your firebaseConfig file\r\n\r\nconst LoginComponent = () => {\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [verificationId, setVerificationId] = useState(null);\r\n\r\n  // Initialize RecaptchaVerifier only once\r\n  const setupRecaptcha = () => {\r\n    if (!window.recaptchaVerifier) {\r\n      window.recaptchaVerifier = new RecaptchaVerifier(\"recaptcha-container\", {\r\n        size: \"invisible\", // Or use 'normal' for a visible reCAPTCHA widget\r\n      }, auth);\r\n    }\r\n  };\r\n\r\n  // Step 3: Send OTP\r\n  const sendOtp = () => {\r\n    setupRecaptcha(); // Ensure RecaptchaVerifier is set up\r\n    const appVerifier = window.recaptchaVerifier;\r\n\r\n    signInWithPhoneNumber(auth, phoneNumber, appVerifier)\r\n      .then((confirmationResult) => {\r\n        setVerificationId(confirmationResult.verificationId);\r\n        alert(\"OTP sent successfully!\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error sending OTP:\", error);\r\n      });\r\n  };\r\n\r\n  // Step 4: Verify OTP\r\n  const verifyOtp = () => {\r\n    const credential = PhoneAuthProvider.credential(verificationId, otp);\r\n    signInWithCredential(auth, credential)\r\n      .then((result) => {\r\n        alert(\"Phone number verified and user signed in successfully!\");\r\n        // Proceed with user registration or redirection as needed\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error verifying OTP:\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Sign Up with Phone Number</h2>\r\n      <input\r\n        type=\"tel\"\r\n        placeholder=\"Enter phone number\"\r\n        value={phoneNumber}\r\n        onChange={(e) => setPhoneNumber(e.target.value)}\r\n      />\r\n      <button onClick={sendOtp}>Send OTP</button>\r\n      <div id=\"recaptcha-container\"></div>\r\n\r\n      {verificationId && (\r\n        <>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter OTP\"\r\n            value={otp}\r\n            onChange={(e) => setOtp(e.target.value)}\r\n          />\r\n          <button onClick={verifyOtp}>Verify OTP</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhoneSignUp;\r\n"],"mappings":";;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,OAAO,EAAEC,iBAAiB,EAAEC,qBAAqB,EAAEC,iBAAiB,EAAEC,oBAAoB,QAAQ,eAAe;AAC1H,SAASC,IAAI,QAAQ,kBAAkB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzC,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACe,GAAG,EAAEC,MAAM,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACiB,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;;EAE1D;EACA,MAAMmB,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI,CAACC,MAAM,CAACC,iBAAiB,EAAE;MAC7BD,MAAM,CAACC,iBAAiB,GAAG,IAAInB,iBAAiB,CAAC,qBAAqB,EAAE;QACtEoB,IAAI,EAAE,WAAW,CAAE;MACrB,CAAC,EAAEhB,IAAI,CAAC;IACV;EACF,CAAC;;EAED;EACA,MAAMiB,OAAO,GAAGA,CAAA,KAAM;IACpBJ,cAAc,CAAC,CAAC,CAAC,CAAC;IAClB,MAAMK,WAAW,GAAGJ,MAAM,CAACC,iBAAiB;IAE5ClB,qBAAqB,CAACG,IAAI,EAAEO,WAAW,EAAEW,WAAW,CAAC,CAClDC,IAAI,CAAEC,kBAAkB,IAAK;MAC5BR,iBAAiB,CAACQ,kBAAkB,CAACT,cAAc,CAAC;MACpDU,KAAK,CAAC,wBAAwB,CAAC;IACjC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC5C,CAAC,CAAC;EACN,CAAC;;EAED;EACA,MAAME,SAAS,GAAGA,CAAA,KAAM;IACtB,MAAMC,UAAU,GAAG5B,iBAAiB,CAAC4B,UAAU,CAACf,cAAc,EAAEF,GAAG,CAAC;IACpEV,oBAAoB,CAACC,IAAI,EAAE0B,UAAU,CAAC,CACnCP,IAAI,CAAEQ,MAAM,IAAK;MAChBN,KAAK,CAAC,wDAAwD,CAAC;MAC/D;IACF,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;EACN,CAAC;EAED,oBACErB,OAAA;IAAA0B,QAAA,gBACE1B,OAAA;MAAA0B,QAAA,EAAI;IAAyB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClC9B,OAAA;MACE+B,IAAI,EAAC,KAAK;MACVC,WAAW,EAAC,oBAAoB;MAChCC,KAAK,EAAE5B,WAAY;MACnB6B,QAAQ,EAAGC,CAAC,IAAK7B,cAAc,CAAC6B,CAAC,CAACC,MAAM,CAACH,KAAK;IAAE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC,eACF9B,OAAA;MAAQqC,OAAO,EAAEtB,OAAQ;MAAAW,QAAA,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC3C9B,OAAA;MAAKsC,EAAE,EAAC;IAAqB;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAEnCrB,cAAc,iBACbT,OAAA,CAAAE,SAAA;MAAAwB,QAAA,gBACE1B,OAAA;QACE+B,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,WAAW;QACvBC,KAAK,EAAE1B,GAAI;QACX2B,QAAQ,EAAGC,CAAC,IAAK3B,MAAM,CAAC2B,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CAAC,eACF9B,OAAA;QAAQqC,OAAO,EAAEd,SAAU;QAAAG,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eAC/C,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC1B,EAAA,CAnEID,cAAc;AAAAoC,EAAA,GAAdpC,cAAc;AAqEpB,eAAeqC,WAAW;AAAC,IAAAD,EAAA;AAAAE,YAAA,CAAAF,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}